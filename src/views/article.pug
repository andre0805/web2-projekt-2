html
    head
        title #{article.title}
        meta(name='viewport', content='width=device-width, initial-scale=1')
        style 
            include ../styles/article.css
        
    body
        nav 
            a(href="/") << Home
            if user
                div.user-info
                    p #{user.name}
                    a(href="/logout") Logout
            else 
                div.login
                    a(href="/login") Login

        div.content
            div.article
                h1 #{article.title}
                p.date-published #{datePublished}
                p.description #{article.description}
                
                h3 Comments (#{comments.length})
                ul.comments
                    // checkbox to enable/disable xss
                    form(action="/articles/"+article.id+"/comment", method="POST")
                        div.checkbox
                            input(type="checkbox", id="xss", name="xssEnabled")
                            label(for="xssEnabled") Enable XSS Vulnerability

                        div.input
                            input(type='text', id='comment', name='comment', placeholder='Write a comment...' required)
                            button(type="submit") Post

                    each comment in comments
                        li.comment
                            div.top
                                p.comment-author #{comment.author}
                                p.date-commented #{comment.dateString}
                            p.comment-text #{comment.text}
                    
